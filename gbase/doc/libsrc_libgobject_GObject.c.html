<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by cdoc on Wed Jan 26 05:45:09 2005 -->
<title>
file libsrc/libgobject/GObject.c
</title>
</head>
<body>
<a name="_top_"></a><pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libgobject.html">This Directory</a>  <a href="libsrc_libgobject_DataPoint.c.html#_top_">Previous</a>  <a href="libsrc_libgobject_Hashtable.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
File libsrc/libgobject/GObject.c
</h1>
<hr>
<!End-Header>  This file contains the functions for manipulating a GObject, which is
   a pointer to a structure that has a GObjectPart as its first member.
   The typedef of GObject is
   <pre>
  #include "GObject.h"
 
  typedef struct
  {
       GObjectPart	core;
  } *GObject;
  </pre>
  but any structure that begins with GObjectPart is also refered to as
  a GObject.
  <p>
  The type GObjectPart is an opaque structure pointer.  GObjectPart is
  privately defined in GObjectP.h as:
  <pre>
  typedef struct GObject_struct
  {
 	int			object_flag;
 	int			object_type;
 	Registry		registry;
 	GObject_EqualsMethod	equals;
 	GObject_CloneMethod	clone;
 	GObject_FreeMethod	free;
  } *GObjectPart;
  </pre>
  <p>
<p>
<dd><dl>
<dt> <b>See Also:</b>
</dl></dd>
<hr>
<h2>
Public Function Index
</h2>
<dl>
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_clone"><b>GObject_clone</b></a> (GObject)
<dd> Clone a GObject.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_equals"><b>GObject_equals</b></a> (GObject, GObject)
<dd> Equals method for all objects.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_free"><b>GObject_free</b></a> (GObject)
<dd> Free a GObject.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_getName"><b>GObject_getName</b></a> (GObject)
<dd> Get the name of a GObject.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_getType"><b>GObject_getType</b></a> (GObject)
<dd> Get the object type of a GObject.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_register"><b>GObject_register</b></a> (GObject, GObject)
<dd> Register an owner with an object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_registerType"><b>GObject_registerType</b></a> (const char *)
<dd> Register a name as a GObject type.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_terminate"><b>GObject_terminate</b></a> ()
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_type"><b>GObject_type</b></a> (const char *)
<dd> Returns an integer object type for a given object name, without actually
   registering the type.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_unregister"><b>GObject_unregister</b></a> (GObject, GObject)
<dd> Unregister an owner object from a GObject.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_unregisterAll"><b>GObject_unregisterAll</b></a> (GObject, GObject)
<dd> Unregister all occurrences of an owner object from a GObject.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#GObject_unregisterNoFree"><b>GObject_unregisterNoFree</b></a> (GObject, GObject)
<dd> Unregister an owner object from a GObject, but do not free it.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Block"><b>new_Block</b></a> (void *, int)
<dd> Create an Block object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Character"><b>new_Character</b></a> (int)
<dd> Create a Character object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Double"><b>new_Double</b></a> (double)
<dd> Create a Double object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_DoubleArray"><b>new_DoubleArray</b></a> (double *, int)
<dd> Create an DoubleArray object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Float"><b>new_Float</b></a> (double)
<dd> Create a Float object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_FloatArray"><b>new_FloatArray</b></a> (float *, int)
<dd> Create an FloatArray object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Integer"><b>new_Integer</b></a> (int)
<dd> Create an Integer object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_IntegerArray"><b>new_IntegerArray</b></a> (int *, int)
<dd> Create an IntegerArray object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Long"><b>new_Long</b></a> (long)
<dd> Create an Long object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_LongArray"><b>new_LongArray</b></a> (long *, int)
<dd> Create an LongArray object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Pointer"><b>new_Pointer</b></a> (void *)
<dd> Create an Pointer object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Quark"><b>new_Quark</b></a> (const char *)
<dd> Create a Quark object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_Short"><b>new_Short</b></a> (int)
<dd> Create a Short object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_ShortArray"><b>new_ShortArray</b></a> (short *, int)
<dd> Create an ShortArray object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#new_StringObj"><b>new_StringObj</b></a> (const char *)
<dd> Create a StringObj object.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#null_StringObj"><b>null_StringObj</b></a> ()
<dd> A null StringObj object.
</dl>
<h2>
Public Functions
</h2>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_clone"><b>GObject_clone</b></a>
<pre>
 GObject GObject_clone(GObject o)
</pre>
<dl>
<dd>   Clone a GObject. The GObject_CloneMethod of the object is called to
   create a clone. If the GObject_CloneMethod is NULL, this function
   returns NULL.

<p>
<dd><dl>
<dt> <b>Returns:</b>
<dd> A duplicate GObject of the same type.

</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_equals"><b>GObject_equals</b></a>
<pre>
 bool GObject_equals(GObject o1,
                     GObject o2)
</pre>
<dl>
<dd>   Equals method for all objects. This method will call the 
   GObject_EqualsMethod of o1 to determine is o1 and o2 are equal. If the
   GObject_EqualsMethod of o1 is NULL, then this method returns True only
   if o1 and o2 point to the same object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_free"><b>GObject_free</b></a>
<pre>
 bool GObject_free(GObject o)
</pre>
<dl>
<dd>   Free a GObject. Free the object, if there are no objects in its registry.
   The registry is a hashtable inside the object. If there are no
   objects registered with this object, i.e. GObject_isRegistered(o) is False,
   then the GObject_FreeMethod of the object is called. If the
   GObject_FreeMethod is NULL, then only the pointer to the object is
   freed with free(o);

<p>
<dd><dl>
<dt> <b>Returns:</b>
<dd> The return code of the GObject_FreeMethod, which should be True  if the free was successful and False otherwise.

</dl></dd>
<p>
<dd><dl>
<dt> <b>See Also:</b>
<dd> <a href="libsrc_libgobject_GObject.c.html#GObject_unregister">GObject_unregister</a>
</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_getName"><b>GObject_getName</b></a>
<pre>
 const char *GObject_getName(GObject o)
</pre>
<dl>
<dd>   Get the name of a GObject.
   returns NULL of the argument is not a GObject.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_getType"><b>GObject_getType</b></a>
<pre>
 int GObject_getType(GObject o)
</pre>
<dl>
<dd>   Get the object type of a GObject. The object type is set by the call to
   new_GObjectPart() that creates the GObject part of the object structure.
   returns -1 if o is not a GObject.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_register"><b>GObject_register</b></a>
<pre>
 bool GObject_register(GObject owner,
                       GObject object)
</pre>
<dl>
<dd>   Register an owner with an object. This prevents the object from being
   freed by calls to GObject_free(). The object will not be freed until
   GObject_unregister is called and there are no other owners in the objects
   registry.
   owner = an object requesting to be an owner of the object.
   object = any GObject. Can be the same as onwer.

<p>
<dd><dl>
<dt> <b>Returns:</b>
<dd> True for success, False if either object is not a GObject or  malloc failed. (logErrorMsg is called)

</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_registerType"><b>GObject_registerType</b></a>
<pre>
 int GObject_registerType(const char *name)
</pre>
<dl>
<dd>   Register a name as a GObject type. The GObject creation method should
   call this function only once. If the name has already been taken,
   an error messages is printed.

<p>
<dd><dl>
<dt> <b>Parameters:</b>
<dd> name - the name of the GObject.

<dt> <b>Returns:</b>
<dd> a quark for the name or -1 if malloc fails (logErrorMsg is called).

</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_terminate"><b>GObject_terminate</b></a>
<pre>
 void GObject_terminate()
</pre>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_type"><b>GObject_type</b></a>
<pre>
 int GObject_type(const char *name)
</pre>
<dl>
<dd>   Returns an integer object type for a given object name, without actually
   registering the type.

<p>
<p>
<dd><dl>
<dt> <b>See Also:</b>
<dd> <a href="libsrc_libgobject_GObject.c.html#GObject_registerType">GObject_registerType</a>
</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_unregister"><b>GObject_unregister</b></a>
<pre>
 bool GObject_unregister(GObject owner,
                         GObject object)
</pre>
<dl>
<dd>   Unregister an owner object from a GObject. Remove owner from the registry
   of object. If no other owners remain in the object's Registry, then the
   object is also freed.

<p>
<dd><dl>
<dt> <b>Returns:</b>
<dd> False if either owner or object is not a GObject, otherwise True.

</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_unregisterAll"><b>GObject_unregisterAll</b></a>
<pre>
 bool GObject_unregisterAll(GObject owner,
                            GObject object)
</pre>
<dl>
<dd>   Unregister all occurrences of an owner object from a GObject.
   If no other owners remain in the object's Registry, then the
   object is also freed.

<p>
<dd><dl>
<dt> <b>Returns:</b>
<dd> False if either owner or object is not a GObject, otherwise True.

</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="GObject_unregisterNoFree"><b>GObject_unregisterNoFree</b></a>
<pre>
 bool GObject_unregisterNoFree(GObject owner,
                               GObject object)
</pre>
<dl>
<dd>   Unregister an owner object from a GObject, but do not free it. Remove
   owner from the registry of object. The object is not freed, even if
   there are no owners remaining in its registry.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Block"><b>new_Block</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Block">Block</a> new_Block(void *s,
                 int length)
</pre>
<dl>
<dd>   Create an Block object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Character"><b>new_Character</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Character">Character</a> new_Character(int ci)
</pre>
<dl>
<dd>   Create a Character object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Double"><b>new_Double</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Double">Double</a> new_Double(double d)
</pre>
<dl>
<dd>   Create a Double object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_DoubleArray"><b>new_DoubleArray</b></a>
<pre>
<a href="include_gobject_GObject.h.html#DoubleArray">DoubleArray</a> new_DoubleArray(double *d,
                             int length)
</pre>
<dl>
<dd>   Create an DoubleArray object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Float"><b>new_Float</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Float">Float</a> new_Float(double d)
</pre>
<dl>
<dd>   Create a Float object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_FloatArray"><b>new_FloatArray</b></a>
<pre>
<a href="include_gobject_GObject.h.html#FloatArray">FloatArray</a> new_FloatArray(float *f,
                           int length)
</pre>
<dl>
<dd>   Create an FloatArray object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Integer"><b>new_Integer</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Integer">Integer</a> new_Integer(int i)
</pre>
<dl>
<dd>   Create an Integer object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_IntegerArray"><b>new_IntegerArray</b></a>
<pre>
<a href="include_gobject_GObject.h.html#IntegerArray">IntegerArray</a> new_IntegerArray(int *i,
                               int length)
</pre>
<dl>
<dd>   Create an IntegerArray object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Long"><b>new_Long</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Long">Long</a> new_Long(long i)
</pre>
<dl>
<dd>   Create an Long object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_LongArray"><b>new_LongArray</b></a>
<pre>
<a href="include_gobject_GObject.h.html#LongArray">LongArray</a> new_LongArray(long *i,
                         int length)
</pre>
<dl>
<dd>   Create an LongArray object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Pointer"><b>new_Pointer</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Pointer">Pointer</a> new_Pointer(void *s)
</pre>
<dl>
<dd>   Create an Pointer object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Quark"><b>new_Quark</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Quark">Quark</a> new_Quark(const char *s)
</pre>
<dl>
<dd>   Create a Quark object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_Short"><b>new_Short</b></a>
<pre>
<a href="include_gobject_GObject.h.html#Short">Short</a> new_Short(int is)
</pre>
<dl>
<dd>   Create a Short object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_ShortArray"><b>new_ShortArray</b></a>
<pre>
<a href="include_gobject_GObject.h.html#ShortArray">ShortArray</a> new_ShortArray(short *s,
                           int length)
</pre>
<dl>
<dd>   Create an ShortArray object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="new_StringObj"><b>new_StringObj</b></a>
<pre>
<a href="include_gobject_GObject.h.html#StringObj">StringObj</a> new_StringObj(const char *s)
</pre>
<dl>
<dd>   Create a StringObj object.

</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="null_StringObj"><b>null_StringObj</b></a>
<pre>
<a href="include_gobject_GObject.h.html#StringObj">StringObj</a> null_StringObj()
</pre>
<dl>
<dd>   A null StringObj object. The object is registered with itself, so it
   will never be freed by GObject_free(). To free it, call
   GObject_unregister(o, o).

</dl>
<!Begin-Footer><hr>
<pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libgobject.html">This Directory</a>  <a href="libsrc_libgobject_DataPoint.c.html#_top_">Previous</a>  <a href="libsrc_libgobject_Hashtable.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
