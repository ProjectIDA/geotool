<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by cdoc on Wed Jan 26 05:45:09 2005 -->
<title>
file libsrc/libgresp/get_response.c
</title>
</head>
<body>
<a name="_top_"></a><pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libgresp.html">This Directory</a>  <a href="libsrc_libgresp.html#_top_">Previous</a>  <a href="libsrc_libgresp_response.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
File libsrc/libgresp/get_response.c
</h1>
<hr>
<!End-Header><h2>
Public Function Index
</h2>
<dl>
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#Response_getFile"><b>Response_getFile</b></a> (TimeSeries, char *, int, char *, int, const char **)
<dd> Get the instrument name and the response file for a TimeSeries.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#Response_getInstrument"><b>Response_getInstrument</b></a> (WFDISC30 *, const char *, const char *, char *, int, char *, int, const char **)
<dd> Get the instrument name and the response file for a wfdisc.
</dl>
<h2>
Public Functions
</h2>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="Response_getFile"><b>Response_getFile</b></a>
<pre>
 int Response_getFile(TimeSeries ts,
                      char *insname,
                      int insname_len,
                      char *file,
                      int file_len,
                      const char **err_msg)
</pre>
<dl>
<dd>  Get the instrument name and the response file for a TimeSeries. Assumes
  that the CssTable associated with the TimeSeries by putCssTable() contains
  a WfdiscIO object (set with CssTable_setIO).

<p>
<dd><dl>
<dt> <b>Parameters:</b>
<dd> ts - A TimeSeries object.

<dd> insname - The instrument name for the waveform (returned).

<dd> insname_len - The size of insname (input).

<dd> file - The response file for the waveform (returned).

<dd> file_len - The size of file (input).

<dd> err_msg - On error return, *err_msg is set to a static character  string error message.

<dt> <b>Returns:</b>
<dd> 0 for success, -1 for error.

</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="Response_getInstrument"><b>Response_getInstrument</b></a>
<pre>
 int Response_getInstrument(WFDISC30 *wf,
                            const char *dir,
                            const char *prefix,
                            char *insname,
                            int insname_len,
                            char *file,
                            int file_len,
                            const char **err_msg)
</pre>
<dl>
<dd>  Get the instrument name and the response file for a wfdisc. The sensor
  table and the instrument table are searched for the records that link
  to the input wfdisc. If the directory <b>dir</b> and file <b>prefix</b> are
  not NULL, then the sensor file dir/prefix.sensor and the instrument file
  dir/prefix.instrument will be searched. If <b>dir</b> and <b>prefix</b> are
  NULL, or they do not contain the required records for the input wfdisc, then
  the file names will be obtained from the program resources "sensor_table",
  "instrument_table", "sensor_table2", "instrument_table2". If the instrument
  record is still not found, and an ODBC connection has been made, then
  the program resources "dbAccount", "sensorDbTable" and "instrumentDbTable"
  will be used to search the database.
  

<p>
<dd><dl>
<dt> <b>Parameters:</b>
<dd> ts - A TimeSeries object.

<dd> wf - A WFDISC30 structure.

<dd> wf - dir The wfdisc directory or NULL.

<dd> wf - prefix The wfdisc prefix or NULL.

<dd> insname - The instrument name for the waveform (returned).

<dd> insname_len - The size of insname (input).

<dd> file - The response file for the waveform (returned).

<dd> file_len - The size of file (input).

<dd> err_msg - On error return, *err_msg is set to a static character  string error message.

<dt> <b>Returns:</b>
<dd> 0 for success, -1 for error.

</dl></dd>
<p>
<dd><dl>
<dt> <b>See Also:</b>
<dd> <a href="libsrc_libgobject_properties.c.html#getProgramResource">getProgramResource</a>
</dl></dd>
</dl>
<!Begin-Footer><hr>
<pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libgresp.html">This Directory</a>  <a href="libsrc_libgresp.html#_top_">Previous</a>  <a href="libsrc_libgresp_response.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
