<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by cdoc on Wed Jan 26 05:45:09 2005 -->
<title>
file libsrc/libFFDB/FFDBImport.c
</title>
</head>
<body>
<a name="_top_"></a><pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libFFDB.html">This Directory</a>  <a href="libsrc_libFFDB_FFDBError.c.html#_top_">Previous</a>  <a href="libsrc_libFFDB_FFDBInsertTables.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
File libsrc/libFFDB/FFDBImport.c
</h1>
<hr>
<!End-Header><h2>
Public Functions
</h2>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="FFDBImport"><b>FFDBImport</b></a>
<pre>
 int FFDBImport(FFDatabase ffdb,
                const char *path)
</pre>
<dl>
<dd>  Import table files. Read one or more files of CSS records and copy them to
  the appropriate files in the Flat-File database. The input <b>path</b> can
  be either a file name or a directory name. All file names must have a 
  CSS table-name suffix (".origin", ".arrival", etc.). If <b>path</b> is a
  directory name, the directory will be recursively searched for all files
  that have CSS table-name suffixes.
  <p>
  A nonzero return code indicates that a fatal error has occurred and the
  import has been terminated. Use FFDBErrMsg and FFDBErrno to retrieve the
  error message and the error code.
  The fatal errors are:
  <pre>
       Error-Code                        Error
    FFDB_IMPORT_ERR        Cannot open the import file or directory.
    FFDB_CREATE_DIR_ERR    Cannot create the database directory.
    FFDB_OPEN_DIR_ERR      Cannot open the database directory.
    FFDB_BAD_STRUCTURE     The directory structure format is invalid.
    FFDB_OPENW_FILE_ERR    Cannot open the output file for writing.
    FFDB_STAT_FILE_ERR     Cannot stat() the output file.
    FFDB_TABLE_WRITE_ERR   An error occurred while writing the record.
  </pre>
  
  The following errors will be reported via logErrorMsg, but will not
  terminate the import.
  <pre>
    FFDB_NO_TIME           Cannot determine the time for the input record.
     (no-code)             File skipped. No CSS-table suffix.
  </pre>
 
  Files that do not have CSS suffixes are skipped.
 

<p>
<dd><dl>
<dt> <b>Parameters:</b>
<dd> ffdb - An FFDatabase pointer obtained from FFDBOpen().

<dd> path - A file name or directory name.

<dt> <b>Returns:</b>
<dd> 0 for success, nonzero for error. Use FFDBErrMsg and FFDBErrno to  retrieve the error message and the error code.

</dl></dd>
</dl>
<!Begin-Footer><hr>
<pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libFFDB.html">This Directory</a>  <a href="libsrc_libFFDB_FFDBError.c.html#_top_">Previous</a>  <a href="libsrc_libFFDB_FFDBInsertTables.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
