<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by cdoc on Wed Jan 26 05:45:09 2005 -->
<title>
file libsrc/libcssio/g2tofloat.c
</title>
</head>
<body>
<a name="_top_"></a><pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libcssio.html">This Directory</a>  <a href="libsrc_libcssio_decomp.c.html#_top_">Previous</a>  <a href="libsrc_libcssio_read_dotw.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
File libsrc/libcssio/g2tofloat.c
</h1>
<hr>
<!End-Header> <pre>
 	g2tofloat - convert g2 format data to host single precision
 
  SYNOPSIS
 
 	g2tofloat (from, to, num)
 	unsigned char	*from;		(i) array with gainranged data
 	void		*to;		(o) degained data
 	int         outtype;            (i) outtype, FLOAT_DATA or INT_DATA
 	int		num;		(i) number of entries
 
  DESCRIPTION
 	G2 format provides a representation with a manitissa ranging
 	from -8192 to +8192 (8191 is the BIAS) and a multiplier of 1,
 	4, 16, or 128 (the multiplier is 128/<gain-code>).
 	Although the total dynamic range is +- 2**20,
 	many numbers within this range are not representable.
 
 	To avoid the difficulty of having a vax and ieee versions of
 	the g2 format, we define the g2 format as a byte stream.  Each
 	value takes two bytes (bytes are 8 bits) with the high order
 	two bits of byte[0] being the gain code, the low order 6 bits
 	and the 8 bits of the second byte being the value (the 6 bits
 	are the high order bits in the 14 bit value).
 
 	If value is less than BIAS, it is a negative number, if it is
 	greater than BIAS it is a positive number.
 
 	Bit 15 and 16 (two upper bits) of the first byte in each
 	sample contains the gain ranging value which determines the gain code:
 
 	00 -> gain code	= 128
 	01 -> gain code 	= 32
 	10 -> gain code  	= 8
 	11 -> gain code  	= 1
 
 	The formula for g2 to integer is:
 	(value-BIAS)*(128/<gain code>).
  NOTES
 	These routines can be used as inplace conversions.
 
 	Although g2 format offers less precision then integer format,
 	in practice there is no difference since the original data from
 	NORSAR is recorded in g2 format.  In other words, we have already
 	lost the precision before the data reaches the processing stage.
  AUTHOR
 	Pete Ware
 
 
  128/gain code results in values to multiply sample value with.
 
  The values to multiply with are:
 	gain bit 00 --> 128/128 =   1 no gain,0 bit shift
 	gain bit 01 --> 128/32  =   4         2 bit shift
 	gain bit 10 --> 128/8   =  16         4 bit shift
 	gain bit 11 --> 128/1   = 128         7 bit shift
  </pre>
<hr>
<h2>
Public Functions
</h2>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="g2tofloat"><b>g2tofloat</b></a>
<pre>
 void g2tofloat(unsigned char *from,
                void *to,
                int outtype,
                int num)
</pre>
<dl>
<dd>  g2tofloat converts NORESS gain ranged data to host specific float format

<p>
<dd><dl>
<dt> <b>Parameters:</b>
<dd> from - array with gain ranged data

<dd> to - degained data

<dd> num - the number of entries

</dl></dd>
</dl>
<!Begin-Footer><hr>
<pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libcssio.html">This Directory</a>  <a href="libsrc_libcssio_decomp.c.html#_top_">Previous</a>  <a href="libsrc_libcssio_read_dotw.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
