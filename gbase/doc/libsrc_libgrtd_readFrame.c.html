<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by cdoc on Wed Jan 26 05:45:09 2005 -->
<title>
file libsrc/libgrtd/readFrame.c
</title>
</head>
<body>
<a name="_top_"></a><pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libgrtd.html">This Directory</a>  <a href="libsrc_libgrtd_history.c.html#_top_">Previous</a>  <a href="libsrc_libgrtd_rtdata.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
File libsrc/libgrtd/readFrame.c
</h1>
<hr>
<!End-Header>
  
  .
 
 
<hr>
<h2>
Public Function Index
</h2>
<dl>
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#getFrameTable"><b>getFrameTable</b></a> (FILE *const, const history_t *const, int *const, int, FrameStatus *)
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#readFrame"><b>readFrame</b></a> (FILE *const, const FRAMETABLE *const, history_t *const, char **, CDdata_t *, const char *const, FrameStatus *)
<dd> writes the details of the Data Frame to 'frame' and updates the
          current status in 'history'.
</dl>
<h2>
Public Functions
</h2>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="getFrameTable"><b>getFrameTable</b></a>
<pre>
 FRAMETABLE *getFrameTable(FILE *const fp,
                           const history_t *const history,
                           int *const numFrames,
                           int read_only_one,
                           FrameStatus *s)
</pre>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="readFrame"><b>readFrame</b></a>
<pre>
 uint32_t readFrame(FILE *const fp,
                    const FRAMETABLE *const frameTable,
                    history_t *const history,
                    char **dataFrame,
                    CDdata_t *frame,
                    const char *const fileName,
                    FrameStatus *s)
</pre>
<dl>
<dd>          writes the details of the Data Frame to 'frame' and updates the
          current status in 'history'. Returns any errors found while parsing
          the frame.
 
  If the frame referenced by 'frameTable' is a CD 1.0 frame then first
  reads and parses the associated Data Format Frame (DFF). If the DFF did 
  not contain any errors then reads the Data Frame from file 'fp', parses 
  the Data Frame, populates 'frame' and checks for any errors. If the parse 
  failed then an error message is generated, else 'history' is updated to 
  reflect the new status. Returns the error from the last frame parsed.
  CD 1.1 Data Frames are processed in the same way except that no DFF is read.
  If 'frame' is not a CD 1.0 or CD 1.1 Data Frame then generates an error.
  IMPORTANT - 'dataFrame' MUST BE FREED BY CALLING FUNCTION BUT NOT WHILE 
  'frame' IS STILL BEING USED ('frame' REFERENCES BYTES WITHIN 'dataFrame')!
 
                     file.
                     IMPORTANT - MUST BE FREED BY CALLING FUNCTION BUT NOT
                     WHILE 'frame' IS STILL BEING USED ('frame' REFERENCES
                     BYTES WITHIN 'dataFrame')!
 

<p>
<dd><dl>
<dt> <b>Parameters:</b>
<dd> fp - The binary file that contains the frames to be read

<dd> frameTable - Describes the frames to be read from file

<dd> history - Updated to reflect new status

<dd> dataFrame - The Data Frame, in raw bytes, as read directly from the 

<dd> frame - The Data Frame to be populated from the file

<dd> fileName - Name of file to read (for error messages) 

<dt> <b>Returns:</b>
<dd> Error value from parsing frame (NO_ERROR = success)

</dl></dd>
</dl>
<!Begin-Footer><hr>
<pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libgrtd.html">This Directory</a>  <a href="libsrc_libgrtd_history.c.html#_top_">Previous</a>  <a href="libsrc_libgrtd_rtdata.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
