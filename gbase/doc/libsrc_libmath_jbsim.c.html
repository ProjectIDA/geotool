<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by cdoc on Wed Jan 26 05:45:09 2005 -->
<title>
file libsrc/libmath/jbsim.c
</title>
</head>
<body>
<a name="_top_"></a><pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libmath.html">This Directory</a>  <a href="libsrc_libmath_hilbert.c.html#_top_">Previous</a>  <a href="libsrc_libmath_LogData.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
File libsrc/libmath/jbsim.c
</h1>
<hr>
<!End-Header><h2>
Public Function Index
</h2>
<dl>
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#jbopen"><b>jbopen</b></a> (const char *)
<dd> Open a JB model file.
 <dt> <img src="red_ball_small.gif" width=6 height=6 alt=" o ">
      <a href="#jbsim"><b>jbsim</b></a> (int, double, double, float *, Derivatives *)
<dd> Compute JB travel time and derivatives.
</dl>
<h2>
Public Functions
</h2>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="jbopen"><b>jbopen</b></a>
<pre>
 int jbopen(const char *table)
</pre>
<dl>
<dd>  Open a JB model file.

<p>
<dd><dl>
<dt> <b>Parameters:</b>
<dd> table - The filename.

<dt> <b>Returns:</b>
<dd> 0 for success, CANNOT_OPEN_JBTABLE for failure and call logErrorMsg.

</dl></dd>
</dl>
<img src="red_ball.gif" width=12 height=12 alt= " o ">
<a name="jbsim"><b>jbsim</b></a>
<pre>
 int jbsim(int phase_code,
           double delta,
           double depth,
           float *ttime,
           Derivatives *dd)
</pre>
<dl>
<dd>  Compute JB travel time and derivatives. The travel time derivates computed
  are:
   <pre>
 	dd->dtdh : d(t)/d(depth) : sec/km
 	dd->dtdd : d(t)/d(delta) : sec/deg
 	dd->dpdd : d(dtdd)/d(delta) : (sec/deg)/deg
 	dd->dpdh : d(dtdd)/d(depth) : (sec/deg)/km
  </pre>
  <p>
  The phase_code is one of:
  <pre>
      1 P       8 ScS
      2 PP      9 PKPab
      3 S      10 PKPbc
      4 SS     11 PKPdf
      5 PcP    15 SKSac
      6 pP     17 SKSdf
      7 sP
  </pre>
 
  The return codes are:
  <pre>
   0                     success
   JBPHASE_UNKNOWN       table not found
   DELTA_OUTSIDE_RANGE   delta outside range
   DEPTH_OUTSIDE_RANGE   depth outside range
   CANNOT_OPEN_JBTABLE   can't open jbtable
   JBTABLE_READ_ERROR    read error. (file corrupted?)
  </pre>
  Calls logErrorMsg for malloc errors and file format errors.
  <p>
  Algorithm from subroutine jbtab.f, June 1977 by D.W. McCowan (llab)
 

<p>
<dd><dl>
<dt> <b>Parameters:</b>
<dd> phase_code - Phase code.

<dd> delta - Epicentral distance in degrees.

<dd> depth - Focal depth in km.

<dd> *ttime - Returned travel time in secconds.

<dd> *dd - Returned travel time derivatives.

<dt> <b>Returns:</b>
<dd> 0 for success, nonzero return code for failure (see above).

</dl></dd>
</dl>
<!Begin-Footer><hr>
<pre>
<a href="directories.html">All directories</a>  <a href="libsrc_libmath.html">This Directory</a>  <a href="libsrc_libmath_hilbert.c.html#_top_">Previous</a>  <a href="libsrc_libmath_LogData.c.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
